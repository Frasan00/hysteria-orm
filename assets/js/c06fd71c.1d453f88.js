"use strict";(self.webpackChunkhysteria_orm_docs=self.webpackChunkhysteria_orm_docs||[]).push([[4881],{4602:(n,o,e)=>{e.r(o),e.d(o,{assets:()=>a,contentTitle:()=>c,default:()=>u,frontMatter:()=>r,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"databases/nosql/mongodb/introduction","title":"MongoDB Introduction","description":"Hysteria ORM provides experimental support for MongoDB, allowing you to define collections, perform CRUD operations, and use a fluent query builder with a similar API to SQL models.","source":"@site/docs/databases/nosql/mongodb/introduction.md","sourceDirName":"databases/nosql/mongodb","slug":"/databases/nosql/mongodb/introduction","permalink":"/hysteria-orm/databases/nosql/mongodb/introduction","draft":false,"unlisted":false,"editUrl":"https://github.com/Frasan00/hysteria-orm/tree/main/website/docs/databases/nosql/mongodb/introduction.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"MongoDB Introduction","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"OpenAPI Generation (Experimental)","permalink":"/hysteria-orm/databases/openapi"},"next":{"title":"Redis Introduction","permalink":"/hysteria-orm/databases/nosql/redis/introduction"}}');var i=e(4848),s=e(8453);const r={title:"MongoDB Introduction",sidebar_position:1},c="MongoDB Introduction (Experimental)",a={},l=[{value:"Key Features",id:"key-features",level:2},{value:"Connecting to MongoDB",id:"connecting-to-mongodb",level:2},{value:"Configuration Options",id:"configuration-options",level:3},{value:"Secondary Connections",id:"secondary-connections",level:3},{value:"Temporary Connections",id:"temporary-connections",level:3},{value:"Closing Connections",id:"closing-connections",level:3},{value:"Example Usage",id:"example-usage",level:2}];function d(n){const o={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.header,{children:(0,i.jsx)(o.h1,{id:"mongodb-introduction-experimental",children:"MongoDB Introduction (Experimental)"})}),"\n",(0,i.jsx)(o.p,{children:"Hysteria ORM provides experimental support for MongoDB, allowing you to define collections, perform CRUD operations, and use a fluent query builder with a similar API to SQL models."}),"\n",(0,i.jsx)(o.h2,{id:"key-features",children:"Key Features"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsx)(o.li,{children:"Decorator-based collection definition"}),"\n",(0,i.jsx)(o.li,{children:"Type-safe queries and models"}),"\n",(0,i.jsx)(o.li,{children:"Query builder with chaining and filtering"}),"\n",(0,i.jsx)(o.li,{children:"Session and transaction support (with replica sets)"}),"\n",(0,i.jsxs)(o.li,{children:["Automatic mapping of ",(0,i.jsx)(o.code,{children:"id"})," to MongoDB ",(0,i.jsx)(o.code,{children:"_id"})]}),"\n"]}),"\n",(0,i.jsxs)(o.blockquote,{children:["\n",(0,i.jsxs)(o.p,{children:[(0,i.jsx)(o.strong,{children:"Note:"})," MongoDB support is experimental. Some features may be missing or unstable."]}),"\n"]}),"\n",(0,i.jsx)(o.h2,{id:"connecting-to-mongodb",children:"Connecting to MongoDB"}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-typescript",children:"import { MongoDataSource } from 'hysteria-orm';\n\n// Create instance with configuration\nconst mongo = new MongoDataSource({\n  url: 'mongodb://root:root@localhost:27017',\n});\n\n// Establish the connection\nawait mongo.connect();\n"})}),"\n",(0,i.jsxs)(o.p,{children:["If no URL is provided, the ",(0,i.jsx)(o.code,{children:"MONGO_URL"})," environment variable is used:"]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-typescript",children:"// Uses MONGO_URL from environment\nconst mongo = new MongoDataSource();\nawait mongo.connect();\n"})}),"\n",(0,i.jsx)(o.h3,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-typescript",children:"const mongo = new MongoDataSource({\n  url: 'mongodb://root:root@localhost:27017',\n  logs: true,\n  options: {\n    // MongoDB driver options (MongoClientOptions)\n    maxPoolSize: 10,\n    minPoolSize: 5,\n  },\n});\nawait mongo.connect();\n"})}),"\n",(0,i.jsx)(o.h3,{id:"secondary-connections",children:"Secondary Connections"}),"\n",(0,i.jsxs)(o.p,{children:["Use ",(0,i.jsx)(o.code,{children:"MongoDataSource.connectToSecondarySource()"})," for additional connections:"]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-typescript",children:"const secondaryMongo = await MongoDataSource.connectToSecondarySource({\n  url: 'mongodb://root:root@replica:27017',\n});\n\n// Use with collections\nconst users = await User.find({ connection: secondaryMongo });\n"})}),"\n",(0,i.jsx)(o.h3,{id:"temporary-connections",children:"Temporary Connections"}),"\n",(0,i.jsxs)(o.p,{children:["Use ",(0,i.jsx)(o.code,{children:"MongoDataSource.useConnection()"})," for connections that auto-close:"]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-typescript",children:"await MongoDataSource.useConnection(\n  { url: 'mongodb://root:root@localhost:27017' },\n  async (mongo) => {\n    const users = await User.find();\n    // Connection closes automatically\n  }\n);\n"})}),"\n",(0,i.jsx)(o.h3,{id:"closing-connections",children:"Closing Connections"}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-typescript",children:"// Close the primary connection\nawait MongoDataSource.disconnect();\n\n// Close a specific instance\nawait mongo.disconnect();\n"})}),"\n",(0,i.jsx)(o.h2,{id:"example-usage",children:"Example Usage"}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-typescript",children:"import { MongoDataSource } from 'hysteria-orm';\nimport { User } from './collections/User';\n\nconst mongo = new MongoDataSource({\n  url: 'mongodb://root:root@localhost:27017',\n});\nawait mongo.connect();\n\n// Now collections use this connection\nconst users = await User.find();\n"})}),"\n",(0,i.jsx)(o.hr,{}),"\n",(0,i.jsxs)(o.p,{children:["Next: ",(0,i.jsx)(o.a,{href:"/hysteria-orm/databases/nosql/mongodb/collections",children:"Defining Collections"})]})]})}function u(n={}){const{wrapper:o}={...(0,s.R)(),...n.components};return o?(0,i.jsx)(o,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},8453:(n,o,e)=>{e.d(o,{R:()=>r,x:()=>c});var t=e(6540);const i={},s=t.createContext(i);function r(n){const o=t.useContext(s);return t.useMemo((function(){return"function"==typeof n?n(o):{...o,...n}}),[o,n])}function c(n){let o;return o=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:r(n.components),t.createElement(s.Provider,{value:o},n.children)}}}]);