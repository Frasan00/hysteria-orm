"use strict";(self.webpackChunkhysteria_orm_docs=self.webpackChunkhysteria_orm_docs||[]).push([[8452],{2316:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"databases/sql/standard-methods/basics","title":"Standard Model Methods","description":"Hysteria ORM models provide a rich set of static methods for interacting with your database. These methods are fully type-safe and support advanced options.","source":"@site/docs/databases/sql/standard-methods/basics.md","sourceDirName":"databases/sql/standard-methods","slug":"/databases/sql/standard-methods/basics","permalink":"/hysteria-orm/docs/databases/sql/standard-methods/basics","draft":false,"unlisted":false,"editUrl":"https://github.com/Frasan00/hysteria-orm/tree/main/website/docs/databases/sql/standard-methods/basics.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Standard Model Methods","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Database Views","permalink":"/hysteria-orm/docs/databases/sql/models/views"},"next":{"title":"Query Builder Basics","permalink":"/hysteria-orm/docs/databases/sql/query-builder/basics"}}');var t=s(4848),d=s(8453);const i={title:"Standard Model Methods",sidebar_position:1},a="Standard Model Methods",c={},o=[{value:"CRUD Methods",id:"crud-methods",level:2},{value:"<code>find</code>",id:"find",level:3},{value:"<code>findOne</code>",id:"findone",level:3},{value:"<code>findOneOrFail</code>",id:"findoneorfail",level:3},{value:"<code>insert</code>",id:"insert",level:3},{value:"<code>insertMany</code>",id:"insertmany",level:3},{value:"<code>updateRecord</code>",id:"updaterecord",level:3},{value:"<code>deleteRecord</code>",id:"deleterecord",level:3},{value:"<code>firstOrInsert</code>",id:"firstorinsert",level:3},{value:"<code>upsert</code>",id:"upsert",level:3},{value:"<code>upsertMany</code>",id:"upsertmany",level:3},{value:"Best Practices",id:"best-practices",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"standard-model-methods",children:"Standard Model Methods"})}),"\n",(0,t.jsx)(n.p,{children:"Hysteria ORM models provide a rich set of static methods for interacting with your database. These methods are fully type-safe and support advanced options.\nStandard methods are type safe since only model columns are allowed to be selected."}),"\n",(0,t.jsx)(n.h2,{id:"crud-methods",children:"CRUD Methods"}),"\n",(0,t.jsx)(n.h3,{id:"find",children:(0,t.jsx)(n.code,{children:"find"})}),"\n",(0,t.jsx)(n.p,{children:"Fetch multiple records matching criteria."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'const users = await User.find({ where: { status: \'active\' } });\n\nconst usersWithNameAndEmail = await User.find({\n  select: ["name", "email"],\n}); // { name: string, email: string }[]\n'})}),"\n",(0,t.jsx)(n.h3,{id:"findone",children:(0,t.jsx)(n.code,{children:"findOne"})}),"\n",(0,t.jsx)(n.p,{children:"Fetch a single record matching criteria."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'const user = await User.findOne({ where: { email: \'john@example.com\' } });\n\nconst userWithNameAndEmail = await User.findOne({\n  select: ["name", "email"],\n}); // { name: string, email: string } | null\n'})}),"\n",(0,t.jsx)(n.h3,{id:"findoneorfail",children:(0,t.jsx)(n.code,{children:"findOneOrFail"})}),"\n",(0,t.jsx)(n.p,{children:"Fetch a single record or throw if not found."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"const user = await User.findOneOrFail({ where: { email: 'john@example.com' } });\n"})}),"\n",(0,t.jsx)(n.h3,{id:"insert",children:(0,t.jsx)(n.code,{children:"insert"})}),"\n",(0,t.jsx)(n.p,{children:"Insert a new record."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"const user = await User.insert({ name: 'John', email: 'john@example.com' });\n"})}),"\n",(0,t.jsx)(n.h3,{id:"insertmany",children:(0,t.jsx)(n.code,{children:"insertMany"})}),"\n",(0,t.jsx)(n.p,{children:"Insert multiple records."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"const users = await User.insertMany([\n  { name: 'John', email: 'john@example.com' },\n  { name: 'Jane', email: 'jane@example.com' },\n]);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"updaterecord",children:(0,t.jsx)(n.code,{children:"updateRecord"})}),"\n",(0,t.jsx)(n.p,{children:"Update a record by primary key."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"user.name = 'Johnny';\nconst updated = await User.updateRecord(user);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"deleterecord",children:(0,t.jsx)(n.code,{children:"deleteRecord"})}),"\n",(0,t.jsx)(n.p,{children:"Delete a record by primary key."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"await User.deleteRecord(user);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"firstorinsert",children:(0,t.jsx)(n.code,{children:"firstOrInsert"})}),"\n",(0,t.jsx)(n.p,{children:"Find a record or create it if it doesn't exist."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// First argument: search criteria\n// Second argument: data to insert if not found\nconst user = await User.firstOrInsert(\n  { email: 'john@example.com' },\n  { name: 'John', email: 'john@example.com', status: 'active' }\n);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"upsert",children:(0,t.jsx)(n.code,{children:"upsert"})}),"\n",(0,t.jsx)(n.p,{children:"Insert or update a record based on conflict keys (QueryBuilder only)."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"const [post] = await sql.query('posts').upsert(\n  { id: uuid, title: 'Title', content: 'Content' },  // data\n  { id: uuid },                                       // conflict keys\n  { returning: ['id', 'title'] }                      // options\n);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"upsertmany",children:(0,t.jsx)(n.code,{children:"upsertMany"})}),"\n",(0,t.jsx)(n.p,{children:"Insert or update multiple records (QueryBuilder only)."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"await sql.query('posts').upsertMany(\n  ['id'],                                             // conflict columns\n  ['title', 'content'],                               // columns to update on conflict\n  [\n    { id: uuid1, title: 'First', content: 'Content 1' },\n    { id: uuid2, title: 'Second', content: 'Content 2' },\n  ]\n);\n"})}),"\n",(0,t.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Always use the static methods for database operations."}),"\n",(0,t.jsxs)(n.li,{children:["Use ",(0,t.jsx)(n.code,{children:"findOneOrFail"})," for required lookups."]}),"\n",(0,t.jsxs)(n.li,{children:["Use ",(0,t.jsx)(n.code,{children:"firstOrInsert"})," and ",(0,t.jsx)(n.code,{children:"upsert"})," for idempotent operations."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.p,{children:["Next: ",(0,t.jsx)(n.a,{href:"/hysteria-orm/docs/databases/sql/query-builder/basics",children:"Query Builder"})]})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>a});var r=s(6540);const t={},d=r.createContext(t);function i(e){const n=r.useContext(d);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(d.Provider,{value:n},e.children)}}}]);