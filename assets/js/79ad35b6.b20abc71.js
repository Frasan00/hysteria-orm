"use strict";(self.webpackChunkhysteria_orm_docs=self.webpackChunkhysteria_orm_docs||[]).push([[5364],{8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>r});var t=s(6540);const o={},i=t.createContext(o);function a(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),t.createElement(i.Provider,{value:n},e.children)}},8943:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"databases/sql/introduction","title":"SQL ORM Introduction","description":"Hysteria ORM provides a powerful, partially type-safe ORM for SQL databases, supporting:","source":"@site/docs/databases/sql/introduction.md","sourceDirName":"databases/sql","slug":"/databases/sql/introduction","permalink":"/hysteria-orm/docs/databases/sql/introduction","draft":false,"unlisted":false,"editUrl":"https://github.com/Frasan00/hysteria-orm/tree/main/website/docs/databases/sql/introduction.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"SQL ORM Introduction","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Logging","permalink":"/hysteria-orm/docs/getting-started/logging"},"next":{"title":"Defining SQL Models","permalink":"/hysteria-orm/docs/databases/sql/models/basics"}}');var o=s(4848),i=s(8453);const a={title:"SQL ORM Introduction",sidebar_position:1},r="SQL ORM Introduction",c={},l=[{value:"Key Features",id:"key-features",level:2},{value:"Connecting and Disconnecting",id:"connecting-and-disconnecting",level:2},{value:"Example Usage",id:"example-usage",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"sql-orm-introduction",children:"SQL ORM Introduction"})}),"\n",(0,o.jsx)(n.p,{children:"Hysteria ORM provides a powerful, partially type-safe ORM for SQL databases, supporting:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"PostgreSQL"}),"\n",(0,o.jsx)(n.li,{children:"MySQL"}),"\n",(0,o.jsx)(n.li,{children:"MariaDB"}),"\n",(0,o.jsx)(n.li,{children:"SQLite"}),"\n",(0,o.jsx)(n.li,{children:"CockroachDB"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"key-features",children:"Key Features"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Partially Type-safe models and queries"}),"\n",(0,o.jsx)(n.li,{children:"Decorator-based schema definition"}),"\n",(0,o.jsx)(n.li,{children:"Advanced query builder"}),"\n",(0,o.jsx)(n.li,{children:"Migrations and schema management"}),"\n",(0,o.jsx)(n.li,{children:"Rich relation support (hasOne, hasMany, belongsTo, manyToMany)"}),"\n",(0,o.jsx)(n.li,{children:"Transaction management (global, nested, concurrent)"}),"\n",(0,o.jsx)(n.li,{children:"Hooks and lifecycle events"}),"\n",(0,o.jsx)(n.li,{children:"Factory support for testing and seeding"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"connecting-and-disconnecting",children:"Connecting and Disconnecting"}),"\n",(0,o.jsx)(n.p,{children:"Hysteria ORM provides flexible methods to manage your SQL database connections:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"SqlDataSource.connect([config], [callback])"})}),"\nEstablishes the default connection used by all models."]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"If no config is provided, environment variables are used."}),"\n",(0,o.jsx)(n.li,{children:"Optionally, you can pass a callback to run after connection."}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { sql } from 'hysteria-orm';\n// Using environment variables\nawait sql.connect();\n\n// Or with configuration\nawait sql.connect({\n  type: 'postgres',\n  host: 'localhost',\n  port: 5432,\n  username: 'user',\n  password: 'pass',\n  database: 'mydb',\n  // If enabled, the models will be synced with the database when the sql data source is connected, this is useful for development purposes to ensure that the models are in sync with the database\n  // Not available for sqlite\n  syncModels: false,\n});\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"SqlDataSource.connectToSecondarySource([config], [callback])"})}),"\nOpens a separate connection (not the global one used by models).\nUseful for migrations, background jobs, or multi-database scenarios."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"const anotherDb = await sql.connectToSecondarySource({\n  type: 'mysql',\n  host: 'localhost',\n  port: 3306,\n  username: 'user',\n  password: 'pass',\n  database: 'otherdb',\n});\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsxs)(n.strong,{children:[(0,o.jsx)(n.code,{children:"SqlDataSource.closeConnection()"})," / ",(0,o.jsx)(n.code,{children:"SqlDataSource.disconnect()"})]}),"\nCloses the current (default) connection."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"await sql.closeConnection();\n// or\nawait sql.disconnect();\n"})}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Tip:"})," Always close connections in scripts or CLI tools to avoid hanging processes."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"example-usage",children:"Example Usage"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { sql } from 'hysteria-orm';\nawait sql.connect();\n\nimport { User } from './models/User';\nconst users = await User.query().many();\n"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.p,{children:["Next: ",(0,o.jsx)(n.a,{href:"/hysteria-orm/docs/databases/sql/models/basics",children:"Defining Models"})]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}}}]);