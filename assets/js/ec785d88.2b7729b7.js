"use strict";(self.webpackChunkhysteria_orm_docs=self.webpackChunkhysteria_orm_docs||[]).push([[9837],{3250:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"databases/sql/plugins/adminjs","title":"AdminJS (Experimental)","description":"This feature is experimental and may change in future versions. Use with caution in production environments.","source":"@site/docs/databases/sql/plugins/adminjs.md","sourceDirName":"databases/sql/plugins","slug":"/databases/sql/plugins/adminjs","permalink":"/hysteria-orm/docs/databases/sql/plugins/adminjs","draft":false,"unlisted":false,"editUrl":"https://github.com/Frasan00/hysteria-orm/tree/main/website/docs/databases/sql/plugins/adminjs.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"AdminJS (Experimental)","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Advanced SQL Features: Read Replication","permalink":"/hysteria-orm/docs/databases/sql/advanced/replication"},"next":{"title":"MongoDB Introduction","permalink":"/hysteria-orm/docs/databases/nosql/mongodb/introduction"}}');var t=i(4848),r=i(8453);const d={title:"AdminJS (Experimental)",sidebar_position:1},a="AdminJS Integration",o={},l=[{value:"Installation",id:"installation",level:2},{value:"Basic Setup",id:"basic-setup",level:2},{value:"Express Integration",id:"express-integration",level:2},{value:"Configuration Options",id:"configuration-options",level:2},{value:"AdminJsOptions",id:"adminjsoptions",level:3},{value:"Branding Options",id:"branding-options",level:3},{value:"Resource Options",id:"resource-options",level:3},{value:"API Reference",id:"api-reference",level:2},{value:"SqlDataSource Methods",id:"sqldatasource-methods",level:3},{value:"<code>initializeAdminJsExpress()</code>",id:"initializeadminjsexpress",level:4},{value:"<code>getAdminJs()</code>",id:"getadminjs",level:4},{value:"<code>isAdminJsEnabled()</code>",id:"isadminjsenabled",level:4},{value:"Static Methods",id:"static-methods",level:3},{value:"Type Definitions",id:"type-definitions",level:2},{value:"AdminJsInstance",id:"adminjsinstance",level:3},{value:"Supported Features",id:"supported-features",level:2},{value:"Limitations",id:"limitations",level:2},{value:"See Also",id:"see-also",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"adminjs-integration",children:"AdminJS Integration"})}),"\n",(0,t.jsx)(n.admonition,{title:"Experimental",type:"warning",children:(0,t.jsx)(n.p,{children:"This feature is experimental and may change in future versions. Use with caution in production environments."})}),"\n",(0,t.jsxs)(n.p,{children:["Hysteria ORM provides built-in integration with ",(0,t.jsx)(n.a,{href:"https://adminjs.co/",children:"AdminJS"}),", a powerful auto-generated admin panel for Node.js applications. This integration allows you to quickly set up an admin interface for your models without writing any additional code."]}),"\n",(0,t.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,t.jsx)(n.p,{children:"AdminJS and its dependencies are optional peer dependencies. Install them based on your needs:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Core AdminJS package\nnpm install adminjs\n\n# For Express integration\nnpm install adminjs @adminjs/express express express-formidable\n"})}),"\n",(0,t.jsx)(n.h2,{id:"basic-setup",children:"Basic Setup"}),"\n",(0,t.jsxs)(n.p,{children:["Enable AdminJS when connecting to your database by providing the ",(0,t.jsx)(n.code,{children:"adminJs"})," configuration option:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'import { SqlDataSource, column, Model } from "hysteria-orm";\n\nclass User extends Model {\n  static table = "users";\n\n  @column.bigIncrement()\n  id!: number;\n\n  @column({ type: "varchar", length: 100 })\n  name!: string;\n\n  @column({ type: "varchar", length: 255 })\n  email!: string;\n\n  @column({ type: "integer" })\n  age!: number;\n\n  @column({ type: "boolean" })\n  isActive!: boolean;\n\n  @column.date({ autoCreate: true })\n  createdAt!: Date;\n}\n\nconst sql = await SqlDataSource.connect({\n  type: "postgres",\n  host: "localhost",\n  port: 5432,\n  username: "root",\n  password: "root",\n  database: "test",\n  models: {\n    User,\n  },\n  adminJs: {\n    enabled: true,\n    rootPath: "/admin",\n  },\n});\n'})}),"\n",(0,t.jsx)(n.h2,{id:"express-integration",children:"Express Integration"}),"\n",(0,t.jsx)(n.p,{children:"The most common use case is integrating AdminJS with an Express application:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'import express from "express";\nimport { SqlDataSource, column, Model } from "hysteria-orm";\n\nclass User extends Model {\n  static table = "users";\n\n  @column.bigIncrement()\n  id!: number;\n\n  @column({ type: "varchar", length: 100 })\n  name!: string;\n\n  @column({ type: "varchar", length: 255 })\n  email!: string;\n\n  @column({ type: "integer" })\n  age!: number;\n\n  @column({ type: "boolean" })\n  isActive!: boolean;\n\n  @column.date({ autoCreate: true })\n  createdAt!: Date;\n}\n\n(async () => {\n  const sql = await SqlDataSource.connect({\n    type: "postgres",\n    host: "localhost",\n    port: 5432,\n    username: "root",\n    password: "root",\n    database: "test",\n    models: {\n      User,\n    },\n    adminJs: {\n      enabled: true,\n      rootPath: "/admin",\n      branding: {\n        companyName: "My App Admin",\n        withMadeWithLove: false,\n      },\n      resourceOptions: {\n        users: {\n          navigation: {\n            name: "User Management",\n            icon: "User",\n          },\n          listProperties: ["id", "name", "email", "isActive"],\n          showProperties: ["id", "name", "email", "age", "isActive", "createdAt"],\n          editProperties: ["name", "email", "age", "isActive"],\n          filterProperties: ["name", "email", "isActive"],\n        },\n      },\n    },\n  });\n\n  const app = express();\n\n  // Initialize AdminJS with Express router\n  const { router, admin } = await sql.initializeAdminJsExpress();\n\n  // Mount the AdminJS router\n  app.use(admin.options.rootPath, router as express.Router);\n\n  app.listen(3000, () => {\n    console.log("AdminJS running at http://localhost:3000/admin");\n  });\n})();\n'})}),"\n",(0,t.jsx)(n.h2,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,t.jsx)(n.h3,{id:"adminjsoptions",children:"AdminJsOptions"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Option"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Default"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"enabled"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"boolean"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"false"})}),(0,t.jsx)(n.td,{children:"Enable AdminJS integration"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"rootPath"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:'"/admin"'})}),(0,t.jsx)(n.td,{children:"Root URL path for the admin panel"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"branding"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"AdminJsBranding"})}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"Custom branding options"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"resources"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Model[]"})}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"Specific models to expose (defaults to all registered models)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"resourceOptions"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Record<string, AdminJsResourceOptions>"})}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"Per-model configuration"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"locale"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"AdminJsLocale"})}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"Localization settings"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"assets"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"AdminJsAssets"})}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"Custom CSS/JS assets"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"settings"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"AdminJsSettings"})}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"General settings"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"pages"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Record<string, AdminJsPage>"})}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"Custom pages"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"branding-options",children:"Branding Options"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'adminJs: {\n  enabled: true,\n  branding: {\n    companyName: "My Company",\n    logo: "https://example.com/logo.png",\n    favicon: "https://example.com/favicon.ico",\n    withMadeWithLove: false,\n    theme: {\n      colors: {\n        primary100: "#4268F6",\n      },\n    },\n  },\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"resource-options",children:"Resource Options"}),"\n",(0,t.jsx)(n.p,{children:"Configure how each model appears in the admin panel:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'adminJs: {\n  enabled: true,\n  resourceOptions: {\n    users: {\n      // Navigation grouping\n      navigation: {\n        name: "User Management",\n        icon: "User",\n      },\n\n      // Custom display name\n      name: "Users",\n\n      // Properties shown in list view\n      listProperties: ["id", "name", "email", "isActive"],\n\n      // Properties shown in detail view\n      showProperties: ["id", "name", "email", "age", "isActive", "createdAt"],\n\n      // Properties available for editing\n      editProperties: ["name", "email", "age", "isActive"],\n\n      // Properties available for filtering\n      filterProperties: ["name", "email", "isActive"],\n\n      // Default sorting\n      sort: {\n        sortBy: "createdAt",\n        direction: "desc",\n      },\n\n      // Property-level configuration\n      properties: {\n        email: {\n          isRequired: true,\n          description: "User\'s email address",\n        },\n        age: {\n          type: "number",\n          isVisible: {\n            list: false,\n            edit: true,\n            filter: false,\n            show: true,\n          },\n        },\n      },\n    },\n  },\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,t.jsx)(n.h3,{id:"sqldatasource-methods",children:"SqlDataSource Methods"}),"\n",(0,t.jsx)(n.h4,{id:"initializeadminjsexpress",children:(0,t.jsx)(n.code,{children:"initializeAdminJsExpress()"})}),"\n",(0,t.jsxs)(n.p,{children:["Initializes AdminJS with an Express router. Returns an ",(0,t.jsx)(n.code,{children:"AdminJsInstance"})," with both ",(0,t.jsx)(n.code,{children:"admin"})," and ",(0,t.jsx)(n.code,{children:"router"})," properties."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"const { admin, router } = await sql.initializeAdminJsExpress();\n"})}),"\n",(0,t.jsx)(n.h4,{id:"getadminjs",children:(0,t.jsx)(n.code,{children:"getAdminJs()"})}),"\n",(0,t.jsx)(n.p,{children:"Returns the cached AdminJS instance if already initialized."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"const adminInstance = sql.getAdminJs();\n"})}),"\n",(0,t.jsx)(n.h4,{id:"isadminjsenabled",children:(0,t.jsx)(n.code,{children:"isAdminJsEnabled()"})}),"\n",(0,t.jsx)(n.p,{children:"Checks if AdminJS is enabled in the configuration."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"if (sql.isAdminJsEnabled()) {\n  // AdminJS is configured\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"static-methods",children:"Static Methods"}),"\n",(0,t.jsxs)(n.p,{children:["All instance methods are also available as static methods on ",(0,t.jsx)(n.code,{children:"SqlDataSource"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// Static usage\nconst { admin, router } = await SqlDataSource.initializeAdminJsExpress();\nconst isEnabled = SqlDataSource.isAdminJsEnabled();\n"})}),"\n",(0,t.jsx)(n.h2,{id:"type-definitions",children:"Type Definitions"}),"\n",(0,t.jsx)(n.h3,{id:"adminjsinstance",children:"AdminJsInstance"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"type AdminJsInstance = {\n  admin: {\n    options: { rootPath: string; [key: string]: unknown };\n    watch: () => Promise<void>;\n    initialize: () => Promise<void>;\n    resources: unknown[];\n    findResource: (resourceId: string) => unknown;\n  };\n  router?: unknown;\n};\n"})}),"\n",(0,t.jsx)(n.h2,{id:"supported-features",children:"Supported Features"}),"\n",(0,t.jsx)(n.p,{children:"The AdminJS integration automatically provides:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"List View"}),": Browse records with pagination and sorting"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Create"}),": Add new records"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Edit"}),": Modify existing records"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Delete"}),": Remove records"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Filtering"}),": Filter records by properties"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Search"}),": Search across text fields"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"limitations",children:"Limitations"}),"\n",(0,t.jsx)(n.admonition,{title:"Current Limitations",type:"caution",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Authentication is not built-in; implement your own auth middleware"}),"\n",(0,t.jsx)(n.li,{children:"File uploads require additional configuration"}),"\n",(0,t.jsx)(n.li,{children:"Complex relationships may need custom handling"}),"\n",(0,t.jsx)(n.li,{children:"Some AdminJS features may require direct AdminJS configuration"}),"\n"]})}),"\n",(0,t.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.adminjs.co/",children:"AdminJS Documentation"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/hysteria-orm/docs/databases/sql/models/basics",children:"Models"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/hysteria-orm/docs/databases/sql/advanced/caching",children:"Caching"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>a});var s=i(6540);const t={},r=s.createContext(t);function d(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);