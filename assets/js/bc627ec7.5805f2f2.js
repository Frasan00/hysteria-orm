"use strict";(self.webpackChunkhysteria_orm_docs=self.webpackChunkhysteria_orm_docs||[]).push([[2072],{8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>l});var t=s(6540);const r={},d=t.createContext(r);function i(e){const n=t.useContext(d);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(d.Provider,{value:n},e.children)}},9149:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"databases/sql/models/basics","title":"Defining SQL Models","description":"Models represent tables in your database. Define them by extending the Model class and using decorators for columns and relations.","source":"@site/docs/databases/sql/models/basics.md","sourceDirName":"databases/sql/models","slug":"/databases/sql/models/basics","permalink":"/hysteria-orm/databases/sql/models/basics","draft":false,"unlisted":false,"editUrl":"https://github.com/Frasan00/hysteria-orm/tree/main/website/docs/databases/sql/models/basics.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Defining SQL Models","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"ORM Patterns","permalink":"/hysteria-orm/databases/sql/patterns"},"next":{"title":"Model Mixins","permalink":"/hysteria-orm/databases/sql/models/mixins"}}');var r=s(4848),d=s(8453);const i={title:"Defining SQL Models",sidebar_position:1},l="Defining SQL Models",c={},o=[{value:"Decorators &amp; Column Types",id:"decorators--column-types",level:2},{value:"Column Decorators",id:"column-decorators",level:3},{value:"Date/Time Column Types",id:"datetime-column-types",level:4},{value:"Column Options",id:"column-options",level:4},{value:"Example Usage",id:"example-usage",level:5},{value:"Examples",id:"examples",level:4},{value:"Relation Decorators",id:"relation-decorators",level:3},{value:"Model Static Properties",id:"model-static-properties",level:2},{value:"Details",id:"details",level:3},{value:"Example: User Model",id:"example-user-model",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"defining-sql-models",children:"Defining SQL Models"})}),"\n",(0,r.jsxs)(n.p,{children:["Models represent tables in your database. Define them by extending the ",(0,r.jsx)(n.code,{children:"Model"})," class and using decorators for columns and relations."]}),"\n",(0,r.jsx)(n.h2,{id:"decorators--column-types",children:"Decorators & Column Types"}),"\n",(0,r.jsx)(n.p,{children:"Hysteria ORM uses TypeScript decorators to define model fields and relationships. Decorators are special annotations that add metadata or behavior to class properties."}),"\n",(0,r.jsx)(n.h3,{id:"column-decorators",children:"Column Decorators"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Decorator"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Example Usage"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column()"})}),(0,r.jsxs)(n.td,{children:["Standard column. Accepts options like ",(0,r.jsx)(n.code,{children:"primaryKey"}),", ",(0,r.jsx)(n.code,{children:"hidden"}),", etc."]}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column() name: string;"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.increment()"})}),(0,r.jsx)(n.td,{children:"Auto-incrementing integer primary key (SERIAL in Postgres, AUTO_INCREMENT in MySQL)."}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.increment() id: number;"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.bigIncrement()"})}),(0,r.jsx)(n.td,{children:"Auto-incrementing bigint primary key (BIGSERIAL in Postgres, BIGINT AUTO_INCREMENT in MySQL)."}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.bigIncrement() id: number;"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.integer()"})}),(0,r.jsx)(n.td,{children:"Ensures value is stored as integer. Useful for PKs and numeric fields."}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.integer({ primaryKey: true }) id: number;"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.float()"})}),(0,r.jsx)(n.td,{children:"Ensures value is stored as float. Useful for numeric fields."}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.float() salary: number;"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.boolean()"})}),(0,r.jsx)(n.td,{children:"Stores value as boolean, handles DB-specific formats."}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.boolean() isActive: boolean;"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.json()"})}),(0,r.jsx)(n.td,{children:"Serializes/deserializes JSON objects automatically."}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.json() json: Record<string, any>;"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.date()"})}),(0,r.jsx)(n.td,{children:"Handles DATE_ONLY fields (YYYY-MM-DD), with options for auto-creation and auto-update."}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.date() birthDate: Date;"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.datetime()"})}),(0,r.jsxs)(n.td,{children:["Handles DATETIME fields (YYYY-MM-DD HH:mm",":ss","), with options for auto-creation and auto-update."]}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.datetime({ autoCreate: true }) createdAt: Date;"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.timestamp()"})}),(0,r.jsx)(n.td,{children:"Handles Unix timestamp fields (integer), with options for auto-creation and auto-update."}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.timestamp({ autoCreate: true }) createdAt: Date;"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.time()"})}),(0,r.jsxs)(n.td,{children:["Handles TIME_ONLY fields (HH:mm",":ss","), with options for auto-creation and auto-update."]}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.time() startTime: Date;"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.uuid()"})}),(0,r.jsx)(n.td,{children:"Auto-generates a UUID if not provided."}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.uuid({ primaryKey: true }) uuid: string;"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.ulid()"})}),(0,r.jsx)(n.td,{children:"Auto-generates a ULID if not provided."}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.ulid({ primaryKey: true }) ulid: string;"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.encryption.symmetric()"})}),(0,r.jsx)(n.td,{children:"Encrypts/decrypts value using a symmetric key."}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.encryption.symmetric({ key }) secret: string;"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.encryption.asymmetric()"})}),(0,r.jsx)(n.td,{children:"Encrypts/decrypts value using asymmetric keys."}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.encryption.asymmetric({ publicKey, privateKey }) secret: string;"})})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"datetime-column-types",children:"Date/Time Column Types"}),"\n",(0,r.jsx)(n.p,{children:"Choose the appropriate date/time decorator based on your database column type:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Decorator"}),(0,r.jsx)(n.th,{children:"Database Column Type"}),(0,r.jsx)(n.th,{children:"Format"}),(0,r.jsx)(n.th,{children:"Use Case"}),(0,r.jsx)(n.th,{children:"Migration Example"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.date()"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"DATE"})}),(0,r.jsx)(n.td,{children:"YYYY-MM-DD"}),(0,r.jsx)(n.td,{children:"Birth dates, event dates (no time)"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"table.date('birth_date')"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.datetime()"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"DATETIME"}),", ",(0,r.jsx)(n.code,{children:"DATETIME2"})]}),(0,r.jsxs)(n.td,{children:["YYYY-MM-DD HH:mm",":ss"]}),(0,r.jsx)(n.td,{children:"Created/updated timestamps with readable format"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"table.timestamp('created_at')"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.timestamp()"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"TIMESTAMP"})," (as integer)"]}),(0,r.jsx)(n.td,{children:"Unix timestamp (e.g., 1766152251)"}),(0,r.jsx)(n.td,{children:"High-performance timestamps stored as integers"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"table.integer('last_login')"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@column.time()"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TIME"})}),(0,r.jsxs)(n.td,{children:["HH:mm",":ss"]}),(0,r.jsx)(n.td,{children:"Start/end times, durations (no date)"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"table.time('start_time')"})})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Important Notes:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["When using ",(0,r.jsx)(n.code,{children:"table.timestamp()"})," in migrations, it creates ",(0,r.jsx)(n.code,{children:"DATETIME"}),"/",(0,r.jsx)(n.code,{children:"DATETIME2"})," columns (not Unix timestamp integers). Use ",(0,r.jsx)(n.code,{children:"@column.datetime()"})," for these columns."]}),"\n",(0,r.jsxs)(n.li,{children:["For actual Unix timestamp integers, define the column as ",(0,r.jsx)(n.code,{children:"table.integer()"})," or ",(0,r.jsx)(n.code,{children:"table.bigint()"})," and use ",(0,r.jsx)(n.code,{children:"@column.timestamp()"})," in your model."]}),"\n",(0,r.jsxs)(n.li,{children:["All date/time decorators support ",(0,r.jsx)(n.code,{children:"autoCreate"})," and ",(0,r.jsx)(n.code,{children:"autoUpdate"})," options for automatic timestamp management. For ",(0,r.jsx)(n.code,{children:"autoUpdate"}),", MySQL/MariaDB use the native ",(0,r.jsx)(n.code,{children:"ON UPDATE CURRENT_TIMESTAMP"}),"; on other databases, migrations automatically generate an update trigger to implement auto-update behavior (trigger name: ",(0,r.jsx)(n.code,{children:"trg_{table}_{column}_auto_update"}),"). Triggers are created when using ",(0,r.jsx)(n.code,{children:"createTable"})," or when adding columns via ",(0,r.jsx)(n.code,{children:"alterTable"}),". Note: MSSQL trigger generation assumes a primary key named ",(0,r.jsx)(n.code,{children:"id"}),"; adjust the trigger manually if your table uses a different primary key."]}),"\n",(0,r.jsxs)(n.li,{children:["All date/time decorators support ",(0,r.jsx)(n.code,{children:"timezone"})," option ('UTC' or 'LOCAL') for timezone handling."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// DATE column (no time component)\n@column.date()\ndeclare birthDate: Date;\n\n// DATETIME column (ISO format with time)\n@column.datetime({ autoCreate: true })\ndeclare createdAt: Date;\n\n// Unix timestamp integer column\n@column.timestamp({ autoCreate: true, autoUpdate: true })\ndeclare lastModified: Date;\n\n// TIME column (no date component)\n@column.time()\ndeclare businessHoursStart: Date;\n"})}),"\n",(0,r.jsx)(n.h4,{id:"column-options",children:"Column Options"}),"\n",(0,r.jsxs)(n.p,{children:["You can pass options to ",(0,r.jsx)(n.code,{children:"@column()"})," and its variants to control column behavior:"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Option"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"primaryKey"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"false"}),(0,r.jsx)(n.td,{children:"Marks this column as the primary key. Only one primary key is allowed per model."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"serialize"})}),(0,r.jsx)(n.td,{children:"function"}),(0,r.jsx)(n.td,{children:"undefined"}),(0,r.jsx)(n.td,{children:"Function to transform the value after reading from the database (e.g., parse, convert type)."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"prepare"})}),(0,r.jsx)(n.td,{children:"function"}),(0,r.jsx)(n.td,{children:"undefined"}),(0,r.jsx)(n.td,{children:"Function to transform the value before writing to the database (e.g., format, encrypt)."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hidden"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"false"}),(0,r.jsx)(n.td,{children:"If true, this column will not appear in serialized output (e.g., API responses)."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"autoUpdate"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"false"}),(0,r.jsxs)(n.td,{children:["If true, ",(0,r.jsx)(n.code,{children:"prepare"})," will always be called on update, even if the value is not in the payload."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"databaseName"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"property name (case-converted)"}),(0,r.jsx)(n.td,{children:"Custom name for the column in the database."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nullable"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"false"}),(0,r.jsx)(n.td,{children:"If true, the column can be null in the database."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"default"})}),(0,r.jsx)(n.td,{children:"string | number | null | boolean"}),(0,r.jsx)(n.td,{children:"undefined"}),(0,r.jsx)(n.td,{children:"The default value for the column in the database."})]})]})]}),"\n",(0,r.jsx)(n.h5,{id:"example-usage",children:"Example Usage"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"@column({ primaryKey: true, hidden: true, databaseName: 'user_id' })\ndeclare id: number;\n\n@column({\n  prepare: (value) => value.trim(),\n  serialize: (value) => value.toUpperCase(),\n})\ndeclare name: string;\n\n@column({ nullable: true, default: 'active' })\ndeclare status: string | null;\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Notes:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"primaryKey"}),": Composite primary keys are not supported. Defining more than one will throw an error."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"hidden"}),": Useful for sensitive fields like passwords."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"prepare"}),"/",(0,r.jsx)(n.code,{children:"serialize"}),": Use for custom transformations, e.g., encryption, formatting, or type conversion."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"databaseName"}),": Use if your DB column name differs from your property name or case convention."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"@column()\ndeclare name: string;\n\n// Auto-incrementing primary keys (recommended for most cases)\n@column.increment()\ndeclare id: number;\n\n@column.bigIncrement()\ndeclare id: number;\n\n// Manual primary key with integer type\n@column.integer({ primaryKey: true })\ndeclare id: number;\n\n@column.float()\ndeclare salary: number;\n\n@column.boolean()\ndeclare isActive: boolean;\n\n@column.json()\ndeclare json: Record<string, any> | null;\n\n// Date/Time columns - choose based on database column type\n@column.date()  // For DATE columns (YYYY-MM-DD)\ndeclare birthDate: Date;\n\n@column.datetime({ autoCreate: true })  // For DATETIME columns (YYYY-MM-DD HH:mm:ss)\ndeclare createdAt: Date;\n\n@column.timestamp({ autoCreate: true })  // For Unix timestamp integer columns\ndeclare lastLogin: Date;\n\n@column.time()  // For TIME columns (HH:mm:ss)\ndeclare startTime: Date;\n\n@column.uuid({ primaryKey: true })\ndeclare uuid: string;\n\n@column.ulid({ primaryKey: true })\ndeclare ulid: string;\n\n@column.encryption.symmetric({ key: 'my-secret-key' })\ndeclare secret: string;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"relation-decorators",children:"Relation Decorators"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Decorator"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Example Usage"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@hasOne"})}),(0,r.jsx)(n.td,{children:"One-to-one relationship"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@hasOne(() => Profile, 'userId') profile: Profile;"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@hasMany"})}),(0,r.jsx)(n.td,{children:"One-to-many relationship"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@hasMany(() => Post, 'userId') posts: Post[];"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@belongsTo"})}),(0,r.jsx)(n.td,{children:"Inverse of hasOne/hasMany"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@belongsTo(() => User, 'userId') user: User;"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@manyToMany"})}),(0,r.jsx)(n.td,{children:"Many-to-many via a join table"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@manyToMany(() => Role, () => UserRole, { leftForeignKey: 'userId', rightForeignKey: 'roleId' }) roles: Role[];"})})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"model-static-properties",children:"Model Static Properties"}),"\n",(0,r.jsx)(n.p,{children:"You can customize model behavior by setting static properties on your model class:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Example Usage"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"static table"})}),(0,r.jsx)(n.td,{children:"Custom table name for the model."}),(0,r.jsx)(n.td,{children:"Pluralized snake_case"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'static table = "users";'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"static softDeleteColumn"})}),(0,r.jsx)(n.td,{children:"Column name used for soft deletes."}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"deletedAt"'})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'static softDeleteColumn = "deletedAt";'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"static softDeleteValue"})}),(0,r.jsx)(n.td,{children:"Value set when soft deleting (usually a timestamp)."}),(0,r.jsx)(n.td,{children:"Current UTC datetime"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"YYYY-MM-DD HH:mm:ss"})})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"details",children:"Details"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsxs)(n.strong,{children:["Custom Table Name (",(0,r.jsx)(n.code,{children:"table"}),")"]}),":\nBy default, the table name is the pluralized, snake_case version of your model class. Override this by setting ",(0,r.jsx)(n.code,{children:"static table"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Case Conventions"}),":\nSee ",(0,r.jsx)(n.a,{href:"/hysteria-orm/databases/sql/models/case-conventions",children:"Case Conventions"})," for detailed information on how case conversion works in Hysteria ORM."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Soft Delete Support"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"softDeleteColumn"}),": The column used to mark a record as deleted (default: ",(0,r.jsx)(n.code,{children:"deletedAt"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"softDeleteValue"}),": The value written to the soft delete column (default: current UTC datetime in ",(0,r.jsx)(n.code,{children:'"YYYY-MM-DD HH:mm:ss"'})," format).\nWhen you soft delete a record, this value is set instead of actually removing the row."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"example-user-model",children:"Example: User Model"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { Model, column, hasMany, hasOne, manyToMany } from 'hysteria-orm';\nimport { Post } from './Post';\nimport { Address } from './Address';\n\nexport class User extends Model {\n  // Custom table name for this model\n  static table = \"users\";\n\n  // Optional: customize soft delete behavior\n  // static softDeleteColumn = \"deletedAt\";\n  // static softDeleteValue = new Date().toISOString();\n\n  @column.increment()\n  declare id: number;\n\n  @column()\n  declare name: string;\n\n  @column()\n  declare email: string;\n\n  @column({ hidden: true })\n  declare password: string;\n\n  @column()\n  declare status: 'active' | 'inactive';\n\n  @column.boolean()\n  declare isActive: boolean;\n\n  @column.json()\n  declare json: Record<string, any> | null;\n\n  @column.datetime({ autoCreate: true })\n  declare createdAt: Date;\n\n  @column.datetime({ autoCreate: true, autoUpdate: true })\n  declare updatedAt: Date;\n\n  @hasOne(() => Post, 'userId')\n  declare post: Post;\n\n  @hasMany(() => Post, 'userId')\n  declare posts: Post[];\n\n  @manyToMany(() => Address, () => UserAddress, {\n    leftForeignKey: 'userId',\n    rightForeignKey: 'addressId',\n  })\n  declare addresses: Address[];\n}\n"})}),"\n",(0,r.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);